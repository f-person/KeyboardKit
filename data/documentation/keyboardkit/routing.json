{"primaryContentSections":[{"kind":"content","content":[{"anchor":"overview","level":2,"type":"heading","text":"Overview"},{"type":"paragraph","inlineContent":[{"type":"text","text":"In general, all "},{"type":"codeVoice","code":"UIInputController"},{"type":"text","text":"s have a "},{"type":"codeVoice","code":"textDocumentProxy"},{"type":"text","text":", which is the way that a keyboard estensions integrates with the currently active app. It lets you insert and remove text, move the cursor forward and backward etc. and KeyboardKit provides a bunch of additional extensions and utilities to make the proxy even more capable than it is with the native APIs."}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"However, there may come a time when you have to type into a text field "},{"type":"emphasis","inlineContent":[{"type":"text","text":"inside"}]},{"type":"text","text":" the keyboard itself, for instance to implement in-keyboard search, text input settings etc. For this to work, you need a way to route the text to so that the text ends up in your keyboardâ€™s text field instead of in the main app."}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"Since implementing your own custom proxy implementation is a pretty complicated task, KeyboardKit provides you with a set of tools that make text routing trivial."}]},{"anchor":"How-to-route-text-with-KeyboardKit","level":2,"type":"heading","text":"How to route text with KeyboardKit"},{"type":"paragraph","inlineContent":[{"type":"text","text":"To make it easier to route text from the main app to any custom input, KeyboardKit has a "},{"type":"reference","isActive":true,"identifier":"doc:\/\/KeyboardKit\/documentation\/KeyboardKit\/TextInputProxy"},{"type":"text","text":" that implements "},{"type":"codeVoice","code":"UITextDocumentProxy"},{"type":"text","text":" and can be used to redirect text to any custom "},{"type":"reference","isActive":true,"identifier":"doc:\/\/KeyboardKit\/documentation\/KeyboardKit\/TextInputProxy\/TextInput"},{"type":"text","text":". "},{"type":"reference","isActive":true,"identifier":"doc:\/\/KeyboardKit\/documentation\/KeyboardKit\/KeyboardInputViewController"},{"type":"text","text":" then has a "},{"type":"reference","isActive":true,"identifier":"doc:\/\/KeyboardKit\/documentation\/KeyboardKit\/KeyboardInputViewController\/textInputProxy"},{"type":"text","text":" property that, whenever set, will take over as the "},{"type":"reference","isActive":true,"identifier":"doc:\/\/KeyboardKit\/documentation\/KeyboardKit\/KeyboardInputViewController\/mainTextDocumentProxy"},{"type":"text","text":" from the default "},{"type":"reference","isActive":true,"identifier":"doc:\/\/KeyboardKit\/documentation\/KeyboardKit\/KeyboardInputViewController\/textDocumentProxy"},{"type":"text","text":"."}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"To make it even easier to route text within a keyboard extension, KeyboardKit provides you with two already implemented text input views, that will automatically register themselves as custom proxy destinations when they receive focus and unregister themselves when they lose focus."}]},{"type":"unorderedList","items":[{"content":[{"type":"paragraph","inlineContent":[{"type":"reference","isActive":true,"identifier":"doc:\/\/KeyboardKit\/documentation\/KeyboardKit\/KeyboardTextField"},{"type":"text","text":" wraps a native "},{"type":"codeVoice","code":"UITextField"},{"type":"text","text":" and can be used for single-line text inputs."}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"reference","isActive":true,"identifier":"doc:\/\/KeyboardKit\/documentation\/KeyboardKit\/KeyboardTextView"},{"type":"text","text":" wraps a native "},{"type":"codeVoice","code":"UITextView"},{"type":"text","text":" and can be used for multi-line text inputs."}]}]}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"Both views accept a configuration action that can be used to customize the native "},{"type":"codeVoice","code":"UIKit"},{"type":"text","text":" views. Furthermore, "},{"type":"reference","isActive":true,"identifier":"doc:\/\/KeyboardKit\/documentation\/KeyboardKit\/KeyboardTextField"},{"type":"text","text":" can be configured to automatically resign as the first responder when the user taps return (or any primary button that inserts a newline)."}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"Both views support native SwiftUI "},{"type":"codeVoice","code":"FocusState"},{"type":"text","text":", and have a "},{"type":"codeVoice","code":"focused"},{"type":"text","text":" view modifier that lets you provide a custom done button that slides in when the view is focused, and can be tapped to make the view resign as the first responder and return focus to the main app."}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"The demo app has a keyboard that lets you play around with these text input views."}]}]}],"schemaVersion":{"major":0,"minor":3,"patch":0},"sections":[],"variants":[{"paths":["\/documentation\/keyboardkit\/routing"],"traits":[{"interfaceLanguage":"swift"}]}],"identifier":{"url":"doc:\/\/KeyboardKit\/documentation\/KeyboardKit\/Routing","interfaceLanguage":"swift"},"abstract":[{"type":"text","text":"This article describes how KeyboardKit adds ways for you to route text from the main app to other text fields within the keyboard."}],"kind":"article","metadata":{"roleHeading":"Article","title":"Routing","role":"article","modules":[{"name":"KeyboardKit"}]},"hierarchy":{"paths":[["doc:\/\/KeyboardKit\/documentation\/KeyboardKit"]]},"seeAlsoSections":[{"title":"Articles","identifiers":["doc:\/\/KeyboardKit\/documentation\/KeyboardKit\/Actions","doc:\/\/KeyboardKit\/documentation\/KeyboardKit\/Appearance","doc:\/\/KeyboardKit\/documentation\/KeyboardKit\/Autocomplete","doc:\/\/KeyboardKit\/documentation\/KeyboardKit\/Callouts","doc:\/\/KeyboardKit\/documentation\/KeyboardKit\/Dictation","doc:\/\/KeyboardKit\/documentation\/KeyboardKit\/Emojis","doc:\/\/KeyboardKit\/documentation\/KeyboardKit\/External-Keyboards","doc:\/\/KeyboardKit\/documentation\/KeyboardKit\/Feedback","doc:\/\/KeyboardKit\/documentation\/KeyboardKit\/Gestures","doc:\/\/KeyboardKit\/documentation\/KeyboardKit\/Input","doc:\/\/KeyboardKit\/documentation\/KeyboardKit\/Keyboard","doc:\/\/KeyboardKit\/documentation\/KeyboardKit\/Layout","doc:\/\/KeyboardKit\/documentation\/KeyboardKit\/Localization","doc:\/\/KeyboardKit\/documentation\/KeyboardKit\/Previews","doc:\/\/KeyboardKit\/documentation\/KeyboardKit\/Proxy-Extensions","doc:\/\/KeyboardKit\/documentation\/KeyboardKit\/RTL","doc:\/\/KeyboardKit\/documentation\/KeyboardKit\/Settings"],"generated":true}],"references":{"doc://KeyboardKit/documentation/KeyboardKit/TextInputProxy":{"role":"symbol","title":"TextInputProxy","fragments":[{"kind":"keyword","text":"class"},{"kind":"text","text":" "},{"kind":"identifier","text":"TextInputProxy"}],"abstract":[{"type":"text","text":"This class can be used to route text from an app to another"},{"type":"text","text":" "},{"type":"text","text":"text field, for instance in keyboard extension itself."}],"identifier":"doc:\/\/KeyboardKit\/documentation\/KeyboardKit\/TextInputProxy","kind":"symbol","type":"topic","navigatorTitle":[{"kind":"identifier","text":"TextInputProxy"}],"url":"\/documentation\/keyboardkit\/textinputproxy"},"doc://KeyboardKit/documentation/KeyboardKit/External-Keyboards":{"role":"article","title":"External Keyboards","abstract":[{"type":"text","text":"This article describes the KeyboardKit external keyboard engine and how to use it."}],"identifier":"doc:\/\/KeyboardKit\/documentation\/KeyboardKit\/External-Keyboards","kind":"article","type":"topic","url":"\/documentation\/keyboardkit\/external-keyboards"},"doc://KeyboardKit/documentation/KeyboardKit/KeyboardLocale/persian":{"role":"symbol","title":"KeyboardLocale.persian","fragments":[{"kind":"keyword","text":"case"},{"kind":"text","text":" "},{"kind":"identifier","text":"persian"}],"abstract":[],"identifier":"doc:\/\/KeyboardKit\/documentation\/KeyboardKit\/KeyboardLocale\/persian","kind":"symbol","type":"topic","url":"\/documentation\/keyboardkit\/keyboardlocale\/persian"},"doc://KeyboardKit/documentation/KeyboardKit/Actions":{"role":"article","title":"Actions","abstract":[{"type":"text","text":"This article describes the KeyboardKit action engine and how to use it."}],"identifier":"doc:\/\/KeyboardKit\/documentation\/KeyboardKit\/Actions","kind":"article","type":"topic","url":"\/documentation\/keyboardkit\/actions"},"doc://KeyboardKit/documentation/KeyboardKit/Emojis":{"role":"article","title":"Emojis","abstract":[{"type":"text","text":"This article describes the KeyboardKit emoji model and how to use it."}],"identifier":"doc:\/\/KeyboardKit\/documentation\/KeyboardKit\/Emojis","kind":"article","type":"topic","url":"\/documentation\/keyboardkit\/emojis"},"doc://KeyboardKit/documentation/KeyboardKit/Input":{"role":"article","title":"Input","abstract":[{"type":"text","text":"This article describes the KeyboardKit input set engine and how to use it."}],"identifier":"doc:\/\/KeyboardKit\/documentation\/KeyboardKit\/Input","kind":"article","type":"topic","url":"\/documentation\/keyboardkit\/input"},"doc://KeyboardKit/documentation/KeyboardKit/Keyboard":{"role":"article","title":"Keyboard","abstract":[{"type":"text","text":"This article describes the KeyboardKit keyboard types and how to use them."}],"identifier":"doc:\/\/KeyboardKit\/documentation\/KeyboardKit\/Keyboard","kind":"article","type":"topic","url":"\/documentation\/keyboardkit\/keyboard"},"doc://KeyboardKit/documentation/KeyboardKit/Layout":{"role":"article","title":"Layouts","abstract":[{"type":"text","text":"This article describes the KeyboardKit keyboard layout engine and how to use it."}],"identifier":"doc:\/\/KeyboardKit\/documentation\/KeyboardKit\/Layout","kind":"article","type":"topic","url":"\/documentation\/keyboardkit\/layout"},"doc://KeyboardKit/documentation/KeyboardKit/KeyboardTextField":{"role":"symbol","title":"KeyboardTextField","fragments":[{"kind":"keyword","text":"struct"},{"kind":"text","text":" "},{"kind":"identifier","text":"KeyboardTextField"}],"abstract":[{"type":"text","text":"This text field can be used within a keyboard extension."}],"identifier":"doc:\/\/KeyboardKit\/documentation\/KeyboardKit\/KeyboardTextField","kind":"symbol","type":"topic","navigatorTitle":[{"kind":"identifier","text":"KeyboardTextField"}],"url":"\/documentation\/keyboardkit\/keyboardtextfield"},"doc://KeyboardKit/documentation/KeyboardKit/KeyboardTextView":{"role":"symbol","title":"KeyboardTextView","fragments":[{"kind":"keyword","text":"struct"},{"kind":"text","text":" "},{"kind":"identifier","text":"KeyboardTextView"}],"abstract":[{"type":"text","text":"This text view can be used within a keyboard extension."}],"identifier":"doc:\/\/KeyboardKit\/documentation\/KeyboardKit\/KeyboardTextView","kind":"symbol","type":"topic","navigatorTitle":[{"kind":"identifier","text":"KeyboardTextView"}],"url":"\/documentation\/keyboardkit\/keyboardtextview"},"doc://KeyboardKit/documentation/KeyboardKit/Autocomplete":{"role":"article","title":"Autocomplete","abstract":[{"type":"text","text":"This article describes the KeyboardKit autocomplete engine and how to use it."}],"identifier":"doc:\/\/KeyboardKit\/documentation\/KeyboardKit\/Autocomplete","kind":"article","type":"topic","url":"\/documentation\/keyboardkit\/autocomplete"},"doc://KeyboardKit/documentation/KeyboardKit/Appearance":{"role":"article","title":"Appearance","abstract":[{"type":"text","text":"This article describes the KeyboardKit appearance engine and how to use it."}],"identifier":"doc:\/\/KeyboardKit\/documentation\/KeyboardKit\/Appearance","kind":"article","type":"topic","url":"\/documentation\/keyboardkit\/appearance"},"doc://KeyboardKit/documentation/KeyboardKit/Settings":{"role":"article","title":"Settings","abstract":[{"type":"text","text":"This article describes the KeyboardKit settings utilities and how to use them."}],"identifier":"doc:\/\/KeyboardKit\/documentation\/KeyboardKit\/Settings","kind":"article","type":"topic","url":"\/documentation\/keyboardkit\/settings"},"doc://KeyboardKit/documentation/KeyboardKit/Previews":{"role":"article","title":"Previews","abstract":[{"type":"text","text":"This article describes how KeyboardKit makes it easy to preview keyboard-specific views."}],"identifier":"doc:\/\/KeyboardKit\/documentation\/KeyboardKit\/Previews","kind":"article","type":"topic","url":"\/documentation\/keyboardkit\/previews"},"doc://KeyboardKit/documentation/KeyboardKit/Dictation":{"role":"article","title":"Dictation (PREVIEW)","abstract":[{"type":"text","text":"This article describes the KeyboardKit dictation engine and how to use it."}],"identifier":"doc:\/\/KeyboardKit\/documentation\/KeyboardKit\/Dictation","kind":"article","type":"topic","url":"\/documentation\/keyboardkit\/dictation"},"doc://KeyboardKit/documentation/KeyboardKit/Localization":{"role":"article","title":"Localization","abstract":[{"type":"text","text":"This article describes the KeyboardKit localization model and how to use it."}],"identifier":"doc:\/\/KeyboardKit\/documentation\/KeyboardKit\/Localization","kind":"article","type":"topic","url":"\/documentation\/keyboardkit\/localization"},"doc://KeyboardKit/documentation/KeyboardKit/KeyboardInputViewController/mainTextDocumentProxy":{"role":"symbol","title":"mainTextDocumentProxy","fragments":[{"kind":"keyword","text":"var"},{"kind":"text","text":" "},{"kind":"identifier","text":"mainTextDocumentProxy"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"UITextDocumentProxy","preciseIdentifier":"c:objc(pl)UITextDocumentProxy"}],"abstract":[{"type":"text","text":"The original text document proxy that was used to start"},{"type":"text","text":" "},{"type":"text","text":"the keyboard extension."}],"identifier":"doc:\/\/KeyboardKit\/documentation\/KeyboardKit\/KeyboardInputViewController\/mainTextDocumentProxy","kind":"symbol","type":"topic","url":"\/documentation\/keyboardkit\/keyboardinputviewcontroller\/maintextdocumentproxy"},"doc://KeyboardKit/documentation/KeyboardKit/TextInputProxy/TextInput":{"role":"symbol","title":"TextInputProxy.TextInput","fragments":[{"kind":"keyword","text":"typealias"},{"kind":"text","text":" "},{"kind":"identifier","text":"TextInput"}],"abstract":[],"identifier":"doc:\/\/KeyboardKit\/documentation\/KeyboardKit\/TextInputProxy\/TextInput","kind":"symbol","type":"topic","navigatorTitle":[{"kind":"identifier","text":"TextInput"}],"url":"\/documentation\/keyboardkit\/textinputproxy\/textinput"},"doc://KeyboardKit/documentation/KeyboardKit/Feedback":{"role":"article","title":"Feedback","abstract":[{"type":"text","text":"This article describes the KeyboardKit feedback engine and how to use it to trigger audio and haptic feedback."}],"identifier":"doc:\/\/KeyboardKit\/documentation\/KeyboardKit\/Feedback","kind":"article","type":"topic","url":"\/documentation\/keyboardkit\/feedback"},"doc://KeyboardKit/documentation/KeyboardKit/KeyboardInputViewController/textInputProxy":{"role":"symbol","title":"textInputProxy","fragments":[{"kind":"keyword","text":"var"},{"kind":"text","text":" "},{"kind":"identifier","text":"textInputProxy"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"TextInputProxy","preciseIdentifier":"c:@M@KeyboardKit@objc(cs)TextInputProxy"},{"kind":"text","text":"?"}],"abstract":[{"type":"text","text":"A custom text input proxy to which text can be routed."}],"identifier":"doc:\/\/KeyboardKit\/documentation\/KeyboardKit\/KeyboardInputViewController\/textInputProxy","kind":"symbol","type":"topic","url":"\/documentation\/keyboardkit\/keyboardinputviewcontroller\/textinputproxy"},"doc://KeyboardKit/documentation/KeyboardKit/KeyboardInputViewController":{"role":"symbol","title":"KeyboardInputViewController","fragments":[{"kind":"keyword","text":"class"},{"kind":"text","text":" "},{"kind":"identifier","text":"KeyboardInputViewController"}],"abstract":[{"type":"text","text":"This class extends "},{"type":"codeVoice","code":"UIInputViewController"},{"type":"text","text":" with KeyboardKit"},{"type":"text","text":" "},{"type":"text","text":"specific functionality."}],"identifier":"doc:\/\/KeyboardKit\/documentation\/KeyboardKit\/KeyboardInputViewController","kind":"symbol","type":"topic","navigatorTitle":[{"kind":"identifier","text":"KeyboardInputViewController"}],"url":"\/documentation\/keyboardkit\/keyboardinputviewcontroller"},"doc://KeyboardKit/documentation/KeyboardKit/Gestures":{"role":"article","title":"Gestures","abstract":[{"type":"text","text":"This article describes the KeyboardKit gesture engine and how to use it."}],"identifier":"doc:\/\/KeyboardKit\/documentation\/KeyboardKit\/Gestures","kind":"article","type":"topic","url":"\/documentation\/keyboardkit\/gestures"},"doc://KeyboardKit/documentation/KeyboardKit/KeyboardLocale/arabic":{"role":"symbol","title":"KeyboardLocale.arabic","fragments":[{"kind":"keyword","text":"case"},{"kind":"text","text":" "},{"kind":"identifier","text":"arabic"}],"abstract":[],"identifier":"doc:\/\/KeyboardKit\/documentation\/KeyboardKit\/KeyboardLocale\/arabic","kind":"symbol","type":"topic","url":"\/documentation\/keyboardkit\/keyboardlocale\/arabic"},"doc://KeyboardKit/documentation/KeyboardKit":{"role":"collection","title":"KeyboardKit","abstract":[{"type":"text","text":"KeyboardKit helps you build custom keyboards with Swift and SwiftUI."}],"identifier":"doc:\/\/KeyboardKit\/documentation\/KeyboardKit","kind":"symbol","type":"topic","url":"\/documentation\/keyboardkit"},"doc://KeyboardKit/documentation/KeyboardKit/Proxy-Extensions":{"role":"article","title":"Proxy Extensions","abstract":[{"type":"text","text":"This article describes how KeyboardKit extends "},{"type":"codeVoice","code":"UITextDocumentProxy"},{"type":"text","text":" with a lot of additional functionality."}],"identifier":"doc:\/\/KeyboardKit\/documentation\/KeyboardKit\/Proxy-Extensions","kind":"article","type":"topic","url":"\/documentation\/keyboardkit\/proxy-extensions"},"doc://KeyboardKit/documentation/KeyboardKit/RTL":{"role":"article","title":"RTL","abstract":[{"type":"text","text":"KeyboardKit supports RTL (right-to-left) locales, which means that it supports locales like "},{"type":"reference","isActive":true,"identifier":"doc:\/\/KeyboardKit\/documentation\/KeyboardKit\/KeyboardLocale\/arabic"},{"type":"text","text":",  "},{"type":"reference","isActive":true,"identifier":"doc:\/\/KeyboardKit\/documentation\/KeyboardKit\/KeyboardLocale\/persian"},{"type":"text","text":" etc."}],"identifier":"doc:\/\/KeyboardKit\/documentation\/KeyboardKit\/RTL","kind":"article","type":"topic","url":"\/documentation\/keyboardkit\/rtl"},"doc://KeyboardKit/documentation/KeyboardKit/KeyboardInputViewController/textDocumentProxy":{"role":"symbol","title":"textDocumentProxy","fragments":[{"kind":"keyword","text":"var"},{"kind":"text","text":" "},{"kind":"identifier","text":"textDocumentProxy"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"UITextDocumentProxy","preciseIdentifier":"c:objc(pl)UITextDocumentProxy"}],"abstract":[{"type":"text","text":"The text document proxy to use, which can either be the"},{"type":"text","text":" "},{"type":"text","text":"original text input proxy or the "},{"type":"reference","isActive":true,"identifier":"doc:\/\/KeyboardKit\/documentation\/KeyboardKit\/KeyboardInputViewController\/textInputProxy"},{"type":"text","text":", if"},{"type":"text","text":" "},{"type":"text","text":"it is set to a custom value."}],"identifier":"doc:\/\/KeyboardKit\/documentation\/KeyboardKit\/KeyboardInputViewController\/textDocumentProxy","kind":"symbol","type":"topic","url":"\/documentation\/keyboardkit\/keyboardinputviewcontroller\/textdocumentproxy"},"doc://KeyboardKit/documentation/KeyboardKit/Callouts":{"role":"article","title":"Callouts","abstract":[{"type":"text","text":"This article describes the KeyboardKit callout engine and how to use it."}],"identifier":"doc:\/\/KeyboardKit\/documentation\/KeyboardKit\/Callouts","kind":"article","type":"topic","url":"\/documentation\/keyboardkit\/callouts"}}}